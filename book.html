<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Book Your Seats - CineBook</title>
    <link rel="stylesheet" href="bookstyles.css">
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="logo">MoBook</div>
            <a href="index.html" class="back-link">← Back to Home</a>
        </div>
    </nav>

    <div class="booking-container">
        <div class="booking-header">
            <div class="movie-info">
                <img src="https://images.unsplash.com/photo-1635805737707-575885ab0820?w=200&h=300&fit=crop" alt="Movie Poster" class="movie-thumbnail">
                <div class="movie-details">
                    <h1 class="movie-title">Cyber Strike</h1>
                    <div class="movie-meta">
                        <span class="genre">Action • Thriller</span>
                        <span class="duration">2h 15m</span>
                        <span class="rating">⭐ 4.5/5</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="booking-content">
            <div class="booking-steps">
                <!-- Step 1: Select Date & Time -->
                <div class="step-section active" id="step1">
                    <h2 class="step-title">
                        <span class="step-number">1</span>
                        Select Date & Time
                    </h2>
                    <div class="date-selector">
                        <button class="date-card active" onclick="selectDate(this)">
                            <span class="date-day">Today</span>
                            <span class="date-date">Nov 29</span>
                        </button>
                        <button class="date-card" onclick="selectDate(this)">
                            <span class="date-day">Tomorrow</span>
                            <span class="date-date">Nov 30</span>
                        </button>
                        <button class="date-card" onclick="selectDate(this)">
                            <span class="date-day">Saturday</span>
                            <span class="date-date">Dec 1</span>
                        </button>
                        <button class="date-card" onclick="selectDate(this)">
                            <span class="date-day">Sunday</span>
                            <span class="date-date">Dec 2</span>
                        </button>
                    </div>

                    <div class="time-selector">
                        <button class="time-card" onclick="selectTime(this)">
                            <span class="time">10:00 AM</span>
                            <span class="seats-left">45 seats left</span>
                        </button>
                        <button class="time-card" onclick="selectTime(this)">
                            <span class="time">1:30 PM</span>
                            <span class="seats-left">32 seats left</span>
                        </button>
                        <button class="time-card active" onclick="selectTime(this)">
                            <span class="time">4:45 PM</span>
                            <span class="seats-left">28 seats left</span>
                        </button>
                        <button class="time-card" onclick="selectTime(this)">
                            <span class="time">7:15 PM</span>
                            <span class="seats-left">15 seats left</span>
                        </button>
                        <button class="time-card" onclick="selectTime(this)">
                            <span class="time">10:00 PM</span>
                            <span class="seats-left">50 seats left</span>
                        </button>
                    </div>
                </div>

                <!-- Step 2: Select Seats -->
                <div class="step-section" id="step2">
                    <h2 class="step-title">
                        <span class="step-number">2</span>
                        Select Your Seats
                    </h2>

                    <div class="screen-container">
                        <div class="screen">SCREEN</div>
                    </div>

                    <div class="seat-legend">
                        <div class="legend-item">
                            <div class="seat available"></div>
                            <span>Available</span>
                        </div>
                        <div class="legend-item">
                            <div class="seat selected"></div>
                            <span>Selected</span>
                        </div>
                        <div class="legend-item">
                            <div class="seat occupied"></div>
                            <span>Occupied</span>
                        </div>
                    </div>

                    <div class="seating-chart">
                        <div class="seat-row">
                            <span class="row-label">A</span>
                            <div class="seat available" onclick="toggleSeat(this)"></div>
                            <div class="seat available" onclick="toggleSeat(this)"></div>
                            <div class="seat available" onclick="toggleSeat(this)"></div>
                            <div class="seat available" onclick="toggleSeat(this)"></div>
                            <div class="seat-gap"></div>
                            <div class="seat available" onclick="toggleSeat(this)"></div>
                            <div class="seat available" onclick="toggleSeat(this)"></div>
                            <div class="seat available" onclick="toggleSeat(this)"></div>
                            <div class="seat available" onclick="toggleSeat(this)"></div>
                        </div>
                        <div class="seat-row">
                            <span class="row-label">B</span>
                            <div class="seat available" onclick="toggleSeat(this)"></div>
                            <div class="seat available" onclick="toggleSeat(this)"></div>
                            <div class="seat occupied"></div>
                            <div class="seat occupied"></div>
                            <div class="seat-gap"></div>
                            <div class="seat available" onclick="toggleSeat(this)"></div>
                            <div class="seat available" onclick="toggleSeat(this)"></div>
                            <div class="seat available" onclick="toggleSeat(this)"></div>
                            <div class="seat available" onclick="toggleSeat(this)"></div>
                        </div>
                        <div class="seat-row">
                            <span class="row-label">C</span>
                            <div class="seat available" onclick="toggleSeat(this)"></div>
                            <div class="seat available" onclick="toggleSeat(this)"></div>
                            <div class="seat available" onclick="toggleSeat(this)"></div>
                            <div class="seat available" onclick="toggleSeat(this)"></div>
                            <div class="seat-gap"></div>
                            <div class="seat occupied"></div>
                            <div class="seat available" onclick="toggleSeat(this)"></div>
                            <div class="seat available" onclick="toggleSeat(this)"></div>
                            <div class="seat available" onclick="toggleSeat(this)"></div>
                        </div>
                        <div class="seat-row">
                            <span class="row-label">D</span>
                            <div class="seat available" onclick="toggleSeat(this)"></div>
                            <div class="seat available" onclick="toggleSeat(this)"></div>
                            <div class="seat available" onclick="toggleSeat(this)"></div>
                            <div class="seat available" onclick="toggleSeat(this)"></div>
                            <div class="seat-gap"></div>
                            <div class="seat available" onclick="toggleSeat(this)"></div>
                            <div class="seat available" onclick="toggleSeat(this)"></div>
                            <div class="seat available" onclick="toggleSeat(this)"></div>
                            <div class="seat available" onclick="toggleSeat(this)"></div>
                        </div>
                        <div class="seat-row">
                            <span class="row-label">E</span>
                            <div class="seat available" onclick="toggleSeat(this)"></div>
                            <div class="seat available" onclick="toggleSeat(this)"></div>
                            <div class="seat available" onclick="toggleSeat(this)"></div>
                            <div class="seat available" onclick="toggleSeat(this)"></div>
                            <div class="seat-gap"></div>
                            <div class="seat available" onclick="toggleSeat(this)"></div>
                            <div class="seat available" onclick="toggleSeat(this)"></div>
                            <div class="seat available" onclick="toggleSeat(this)"></div>
                            <div class="seat available" onclick="toggleSeat(this)"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Booking Summary Sidebar -->
            <div class="booking-summary">
                <h3>Booking Summary</h3>
                <div class="summary-details">
                    <div class="summary-item">
                        <span class="label">Date:</span>
                        <span class="value" id="selectedDate">Nov 29 (Today)</span>
                    </div>
                    <div class="summary-item">
                        <span class="label">Time:</span>
                        <span class="value" id="selectedTime">4:45 PM</span>
                    </div>
                    <div class="summary-item">
                        <span class="label">Seats:</span>
                        <span class="value" id="selectedSeats">None selected</span>
                    </div>
                    <div class="summary-item">
                        <span class="label">Ticket Price:</span>
                        <span class="value">$12.00</span>
                    </div>
                </div>

                <div class="price-breakdown">
                    <div class="price-item">
                        <span>Subtotal (<span id="seatCount">0</span> seats)</span>
                        <span id="subtotal">$0.00</span>
                    </div>
                    <div class="price-item">
                        <span>Booking Fee</span>
                        <span id="bookingFee">$0.00</span>
                    </div>
                    <div class="price-total">
                        <span>Total</span>
                        <span id="total">$0.00</span>
                    </div>
                </div>

                <button class="btn-checkout" onclick="proceedToCheckout()">
                    Proceed to Checkout
                </button>
            </div>
        </div>
    </div>

    <script>
        let selectedSeatsArray = [];
        const ticketPrice = 12.00;
        const bookingFeeRate = 0.10;

        function selectDate(element) {
            document.querySelectorAll('.date-card').forEach(card => {
                card.classList.remove('active');
            });
            element.classList.add('active');
            document.getElementById('selectedDate').textContent = element.querySelector('.date-day').textContent + ' ' + element.querySelector('.date-date').textContent;
        }

        function selectTime(element) {
            document.querySelectorAll('.time-card').forEach(card => {
                card.classList.remove('active');
            });
            element.classList.add('active');
            document.getElementById('selectedTime').textContent = element.querySelector('.time').textContent;
        }

        function toggleSeat(element) {
            if (element.classList.contains('occupied')) {
                return;
            }

            element.classList.toggle('selected');
            element.classList.toggle('available');

            updateSelectedSeats();
        }

        function updateSelectedSeats() {
            selectedSeatsArray = [];
            document.querySelectorAll('.seat.selected').forEach((seat, index) => {
                const row = seat.closest('.seat-row').querySelector('.row-label').textContent;
                const seatNumber = Array.from(seat.parentElement.children).filter(el => el.classList.contains('seat')).indexOf(seat);
                selectedSeatsArray.push(`${row}${seatNumber + 1}`);
            });

            const seatCount = selectedSeatsArray.length;
            const subtotal = seatCount * ticketPrice;
            const bookingFee = subtotal * bookingFeeRate;
            const total = subtotal + bookingFee;

            document.getElementById('selectedSeats').textContent = seatCount > 0 ? selectedSeatsArray.join(', ') : 'None selected';
            document.getElementById('seatCount').textContent = seatCount;
            document.getElementById('subtotal').textContent = `$${subtotal.toFixed(2)}`;
            document.getElementById('bookingFee').textContent = `$${bookingFee.toFixed(2)}`;
            document.getElementById('total').textContent = `$${total.toFixed(2)}`;
        }

        function proceedToCheckout() {
            if (selectedSeatsArray.length === 0) {
                alert('Please select at least one seat');
                return;
            }
            alert('Proceeding to payment...\n\nSelected Seats: ' + selectedSeatsArray.join(', ') + '\nTotal: ' + document.getElementById('total').textContent);
        }
    </script>
</body>
</html>